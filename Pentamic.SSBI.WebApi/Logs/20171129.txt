2017-11-29T10:23:39.1230782+07:00 0HL9MR2ANGGQ2 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/Models?%7B%7D   (e5be5b71)
2017-11-29T10:23:39.2615736+07:00 0HL9MR2ANGGQ2 [INF] Request finished in 154.5437ms 204  (15c52c40)
2017-11-29T10:23:39.2835749+07:00 0HL9MR2ANGGQ3 [INF] Request starting HTTP/1.1 GET http://localhost:5001/breeze/datamodel/Models?%7B%7D   (e5be5b71)
2017-11-29T10:23:39.6991055+07:00 0HL9MR2ANGGQ3 [INF] Successfully validated the token. (60169667)
2017-11-29T10:23:39.7096074+07:00 0HL9MR2ANGGQ3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:23:40.0860179+07:00 0HL9MR2ANGGQ3 [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:23:40.1570181+07:00 0HL9MR2ANGGQ3 [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.Models (Pentamic.SSBI.WebApi)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:23:40.2155171+07:00 0HL9MR2ANGGQ3 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:23:40.7130190+07:00 0HL9MR2ANGGQ3 [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.Models (Pentamic.SSBI.WebApi)" in 649.0864ms (afa2e885)
2017-11-29T10:23:40.7355196+07:00 0HL9MR2ANGGQ3 [INF] Request finished in 1440.5574ms 200 application/json; charset=utf-8 (15c52c40)
2017-11-29T10:23:49.6464824+07:00 0HL9MR2ANGGQ4 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/SaveChanges   (e5be5b71)
2017-11-29T10:23:49.6579825+07:00 0HL9MR2ANGGQ4 [INF] Request finished in 11.7266ms 204  (15c52c40)
2017-11-29T10:23:49.6674841+07:00 0HL9MR2ANGGQ5 [INF] Request starting HTTP/1.1 POST http://localhost:5001/breeze/datamodel/SaveChanges application/json 599 (e5be5b71)
2017-11-29T10:23:49.6724840+07:00 0HL9MR2ANGGQ5 [INF] Successfully validated the token. (60169667)
2017-11-29T10:23:49.6769861+07:00 0HL9MR2ANGGQ5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:23:49.6909843+07:00 0HL9MR2ANGGQ5 [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:23:49.8134819+07:00 0HL9MR2ANGGQ5 [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" with arguments (["{
  \"entities\": [
    {
      \"Id\": -1,
      \"Name\": \"test\",
      \"Description\": null,
      \"DefaultMode\": \"Import\",
      \"GenerateFromTemplate\": null,
      \"CloneFromModelId\": null,
      \"RefreshSchedule\": null,
      \"RefreshJobId\": null,
      \"CreatedBy\": null,
      \"CreatedAt\": \"1899-12-31T17:00:00Z\",
      \"ModifiedBy\": null,
      \"ModifiedAt\": \"1899-12-31T17:00:00Z\",
      \"RefreshedAt\": \"1899-12-31T17:00:00Z\",
      \"__unmapped\": {
        \"$typeName\": \"Model\"
      },
      \"entityAspect\": {
        \"entityTypeName\": \"Model:#Pentamic.SSBI.Entities\",
        \"defaultResourceName\": \"Models\",
        \"entityState\": \"Added\",
        \"originalValuesMap\": {},
        \"autoGeneratedKey\": {
          \"propertyName\": \"Id\",
          \"autoGeneratedKeyType\": \"Identity\"
        }
      }
    }
  ],
  \"saveOptions\": {}
}"]) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:23:50.9131233+07:00 0HL9MR2ANGGQ5 [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" in 1229.8345ms (afa2e885)
2017-11-29T10:23:51.1165480+07:00 0HL9MR2ANGGQ5 [ERR] Connection id ""0HL9MR22CFCO4"": An unhandled exception was thrown by the application. (8c14976b)
System.ArgumentException: A data source must be specified in the connection string.
   at Microsoft.AnalysisServices.ConnectionInfo.SetConnectionString(String cs)
   at Microsoft.AnalysisServices.ConnectionInfo..ctor(String connectionString)
   at Microsoft.AnalysisServices.Core.Server.Connect(String connectionString, String sessionId, ObjectExpansion expansionType)
   at Microsoft.AnalysisServices.Core.Server.Connect(String connectionString)
   at Pentamic.SSBI.Services.SSAS.Metadata.MetadataService.CreateModel(Model modelInfo) in C:\Repositories\ssbi-backend\Pentamic.SSBI.Services.SSAS.Metadata\MetadataService.cs:line 682
   at Pentamic.SSBI.Services.Breeze.DataModelEntityService.AfterSaveEntities(Dictionary`2 saveMap, List`1 keyMappings) in C:\Repositories\ssbi-backend\Pentamic.SSBI.Services.Breeze\DataModelEntityService.cs:line 759
   at Breeze.Persistence.PersistenceManager.AfterSaveEntities(Dictionary`2 saveMap, List`1 keyMappings)
   at Breeze.Persistence.PersistenceManager.OpenAndSave(SaveWorkState saveWorkState)
   at Breeze.Persistence.PersistenceManager.SaveChanges(JObject saveBundle, TransactionSettings transactionSettings)
   at Pentamic.SSBI.Services.Breeze.DataModelEntityService.SaveChanges(JObject saveBundle) in C:\Repositories\ssbi-backend\Pentamic.SSBI.Services.Breeze\DataModelEntityService.cs:line 517
   at Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges(JObject saveBundle) in C:\Repositories\ssbi-backend\Pentamic.SSBI.WebApi\Controllers\DataModelController.cs:line 249
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__27.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__25.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__8.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.Frame`1.<RequestProcessingAsync>d__2.MoveNext()
2017-11-29T10:23:51.1390496+07:00 0HL9MR2ANGGQ5 [INF] Request finished in 1467.853ms 500  (15c52c40)
2017-11-29T10:25:06.3239076+07:00 0HL9MR34N4I1G [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/SaveChanges   (e5be5b71)
2017-11-29T10:25:06.4684062+07:00 0HL9MR34N4I1G [INF] Request finished in 171.0038ms 204  (15c52c40)
2017-11-29T10:25:06.4869065+07:00 0HL9MR34N4I1H [INF] Request starting HTTP/1.1 POST http://localhost:5001/breeze/datamodel/SaveChanges application/json 599 (e5be5b71)
2017-11-29T10:25:06.8414057+07:00 0HL9MR34N4I1H [INF] Successfully validated the token. (60169667)
2017-11-29T10:25:06.8484060+07:00 0HL9MR34N4I1H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:25:07.1464076+07:00 0HL9MR34N4I1H [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:25:07.2849063+07:00 0HL9MR34N4I1H [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" with arguments (["{
  \"entities\": [
    {
      \"Id\": -1,
      \"Name\": \"test\",
      \"Description\": null,
      \"DefaultMode\": \"Import\",
      \"GenerateFromTemplate\": null,
      \"CloneFromModelId\": null,
      \"RefreshSchedule\": null,
      \"RefreshJobId\": null,
      \"CreatedBy\": null,
      \"CreatedAt\": \"1899-12-31T17:00:00Z\",
      \"ModifiedBy\": null,
      \"ModifiedAt\": \"1899-12-31T17:00:00Z\",
      \"RefreshedAt\": \"1899-12-31T17:00:00Z\",
      \"__unmapped\": {
        \"$typeName\": \"Model\"
      },
      \"entityAspect\": {
        \"entityTypeName\": \"Model:#Pentamic.SSBI.Entities\",
        \"defaultResourceName\": \"Models\",
        \"entityState\": \"Added\",
        \"originalValuesMap\": {},
        \"autoGeneratedKey\": {
          \"propertyName\": \"Id\",
          \"autoGeneratedKeyType\": \"Identity\"
        }
      }
    }
  ],
  \"saveOptions\": {}
}"]) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:25:09.1729708+07:00 0HL9MR34N4I1H [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:25:09.2754699+07:00 0HL9MR34N4I1H [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" in 2138.0753ms (afa2e885)
2017-11-29T10:25:09.2909692+07:00 0HL9MR34N4I1H [INF] Request finished in 2804.0502ms 200 application/json; charset=utf-8 (15c52c40)
2017-11-29T10:25:13.2737533+07:00 0HL9MR34N4I1I [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/Models?%7B%22where%22%3A%7B%22Id%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.2942521+07:00 0HL9MR34N4I1J [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/UserFavoriteModels?%7B%22where%22%3A%7B%22ModelId%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.2947536+07:00 0HL9MR34N4I1I [INF] Request finished in 25.5584ms 204  (15c52c40)
2017-11-29T10:25:13.3137528+07:00 0HL9MR34N4I1J [INF] Request finished in 26.5554ms 204  (15c52c40)
2017-11-29T10:25:13.3207530+07:00 0HL9MR34N4I1K [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/ModelSharings?%7B%22where%22%3A%7B%22ModelId%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.3437510+07:00 0HL9MR34N4I1L [INF] Request starting HTTP/1.1 GET http://localhost:5001/breeze/datamodel/Models?%7B%22where%22%3A%7B%22Id%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.3472568+07:00 0HL9MR34N4I1M [INF] Request starting HTTP/1.1 GET http://localhost:5001/breeze/datamodel/UserFavoriteModels?%7B%22where%22%3A%7B%22ModelId%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.3497527+07:00 0HL9MR34N4I1K [INF] Request finished in 50.6678ms 204  (15c52c40)
2017-11-29T10:25:13.3547533+07:00 0HL9MR34N4I1L [INF] Successfully validated the token. (60169667)
2017-11-29T10:25:13.3572544+07:00 0HL9MR34N4I1M [INF] Successfully validated the token. (60169667)
2017-11-29T10:25:13.3607539+07:00 0HL9MR34N4I1N [INF] Request starting HTTP/1.1 GET http://localhost:5001/breeze/datamodel/ModelSharings?%7B%22where%22%3A%7B%22ModelId%22%3A2%7D%7D   (e5be5b71)
2017-11-29T10:25:13.3637531+07:00 0HL9MR34N4I1M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:25:13.3732525+07:00 0HL9MR34N4I1L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:25:13.3742518+07:00 0HL9MR34N4I1N [INF] Successfully validated the token. (60169667)
2017-11-29T10:25:13.3802538+07:00 0HL9MR34N4I1N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:25:13.4047551+07:00 0HL9MR34N4I1M [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:25:13.4107531+07:00 0HL9MR34N4I1M [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.UserFavoriteModels (Pentamic.SSBI.WebApi)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:25:13.4127531+07:00 0HL9MR34N4I1N [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:25:13.4147538+07:00 0HL9MR34N4I1L [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:25:13.4187522+07:00 0HL9MR34N4I1N [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.ModelSharings (Pentamic.SSBI.WebApi)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:25:13.4202540+07:00 0HL9MR34N4I1L [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.Models (Pentamic.SSBI.WebApi)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:25:13.5717535+07:00 0HL9MR34N4I1M [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:25:13.5722520+07:00 0HL9MR34N4I1N [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:25:13.5917534+07:00 0HL9MR34N4I1N [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.ModelSharings (Pentamic.SSBI.WebApi)" in 172.5001ms (afa2e885)
2017-11-29T10:25:13.5947537+07:00 0HL9MR34N4I1M [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.UserFavoriteModels (Pentamic.SSBI.WebApi)" in 206.9461ms (afa2e885)
2017-11-29T10:25:13.6087545+07:00 0HL9MR34N4I1N [INF] Request finished in 246.5229ms 200 application/json; charset=utf-8 (15c52c40)
2017-11-29T10:25:13.6102526+07:00 0HL9MR34N4I1M [INF] Request finished in 286.7478ms 200 application/json; charset=utf-8 (15c52c40)
2017-11-29T10:25:13.7277533+07:00 0HL9MR34N4I1L [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:25:13.7352564+07:00 0HL9MR34N4I1L [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.Models (Pentamic.SSBI.WebApi)" in 323.2444ms (afa2e885)
2017-11-29T10:25:13.7787554+07:00 0HL9MR34N4I1L [INF] Request finished in 462.3091ms 200 application/json; charset=utf-8 (15c52c40)
2017-11-29T10:25:13.8527534+07:00 0HL9MR34N4I1O [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/breeze/datamodel/SaveChanges   (e5be5b71)
2017-11-29T10:25:13.8862559+07:00 0HL9MR34N4I1O [INF] Request finished in 8.2729ms 204  (15c52c40)
2017-11-29T10:25:13.9062536+07:00 0HL9MR34N4I1P [INF] Request starting HTTP/1.1 POST http://localhost:5001/breeze/datamodel/SaveChanges application/json 470 (e5be5b71)
2017-11-29T10:25:13.9127520+07:00 0HL9MR34N4I1P [INF] Successfully validated the token. (60169667)
2017-11-29T10:25:13.9242539+07:00 0HL9MR34N4I1P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Bearer". (bdba1d38)
2017-11-29T10:25:13.9307531+07:00 0HL9MR34N4I1P [INF] Authorization was successful for user: "8d513346-7b56-4009-8e5b-3104622fd968". (d7eb274a)
2017-11-29T10:25:13.9387532+07:00 0HL9MR34N4I1P [INF] Executing action method "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" with arguments (["{
  \"entities\": [
    {
      \"Id\": -2,
      \"UserId\": null,
      \"ModelId\": 2,
      \"CreatedAt\": \"1899-12-31T17:00:00Z\",
      \"CreatedBy\": null,
      \"ModifiedBy\": null,
      \"ModifiedAt\": \"1899-12-31T17:00:00Z\",
      \"__unmapped\": {
        \"$typeName\": \"UserModelActivity\"
      },
      \"entityAspect\": {
        \"entityTypeName\": \"UserModelActivity:#Pentamic.SSBI.Entities\",
        \"defaultResourceName\": \"UserModelActivities\",
        \"entityState\": \"Added\",
        \"originalValuesMap\": {},
        \"autoGeneratedKey\": {
          \"propertyName\": \"Id\",
          \"autoGeneratedKeyType\": \"Identity\"
        }
      }
    }
  ],
  \"saveOptions\": {}
}"]) - ModelState is Valid (ba7f4ac2)
2017-11-29T10:25:14.0232539+07:00 0HL9MR34N4I1P [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-29T10:25:14.0387601+07:00 0HL9MR34N4I1P [INF] Executed action "Pentamic.SSBI.WebApi.Controllers.DataModelController.SaveChanges (Pentamic.SSBI.WebApi)" in 97.8203ms (afa2e885)
2017-11-29T10:25:14.0562528+07:00 0HL9MR34N4I1P [INF] Request finished in 173.0855ms 200 application/json; charset=utf-8 (15c52c40)
